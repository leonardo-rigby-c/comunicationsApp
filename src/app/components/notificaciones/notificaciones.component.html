
<p style="text-align: center; font-size: bold;"> Datos requeridos para la notificacion </p>


  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a href="#todos" class="nav-link active" data-toggle="tab" >Todos</a>
    </li>
    <li class="nav-item">
      <a href="#usuario" class="nav-link" data-toggle="tab">Un usuario</a>
    </li>
    <li class="nav-item">
      <a href="#multiple" class="nav-link" data-toggle="tab" >Multiple</a>
    </li>
   
  
  </ul>




  <div class="card" style="width: 100%; ">
    <div class="card-body">
     
      
      

     <form [formGroup]="formaNotificaion" (ngSubmit)="enviarAUsuario()">


      <div class="form-group">
        <label for="exampleInputEmail1">Titulo</label>
        <input type="email" class="form-control" formControlName="titulo" >
      </div>

      <div class="form-group">
        <label for="exampleInputEmail1">Contenido</label>
        <input type="email" class="form-control" formControlName="cuerpo" >
      </div>




    </form>
  
  
    </div>

  </div>




  <div class="tab-content" >

    
    <div class="tab-pane fade show active" id="todos" style="text-align: center;">
       
       <button  [disabled]="formaNotificaion.invalid" (click)="enviarATodos()" class="btn btn-primary">
        Enviar
       </button>

    </div>


   <br>



    <div class="tab-pane fade" id="usuario">

      <p style="font-weight: bold;"> Buscar por nombre</p>
     

      <div class="input-group">
        
        <input type="text" class="form-control" [(ngModel)]="nombreUsuario" placeholder="Escribe el nombre del usuario">
        <div class="input-group-append">
          <button (click)="buscarUsuario()" class="btn btn-secondary" type="button">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>


     <br>


      <div *ngIf="encontrado" class="alert alert-success" role="alert">
       Se encontro el usuario

       <button (click)="enviarAUsuario()" [disabled]="formaNotificaion.invalid" class="btn btn-primary">
        Enviar
      </button>

      </div>
      
      <div *ngIf=" encontrado != undefined && ! encontrado " class="alert alert-danger" role="alert">
        No se encontro al usuario o no ha configurado las notificaciones
      </div>


      

    </div>



    <div class="tab-pane fade" id="multiple">
       
      
      <div class="card" style="width: 100%; ">
        <div class="card-body">
          <p style="font-weight: bold; text-align: center;">Departamentos</p>
         <br>

        <div class="form-check-inline " *ngFor="let departamento of departamentos">
          <label class="form-check-label departamentos" >
            <input type="checkbox" class="form-check-input" [(ngModel)]="departamento.check">
            {{departamento.name}}
          </label>
        </div>

        </div>

        


      </div>

     

      <div class="card" style="width: 100%; ">
        <div class="card-body">
         <p style="font-weight: bold; text-align: center;">Plantas</p>
  
         <br>
  
        <div class="form-check-inline " *ngFor="let planta of plantas">
          <label class="form-check-label plantas" >
            <input type="checkbox" class="form-check-input" [(ngModel)]="planta.check">
            {{planta.name}}
          </label>
        </div>
  
  
        </div>
      </div>
      
      <div class="card" style="width: 100%; ">
        <div class="card-body">
         
  
      
    
        <button  [disabled]="formaNotificaion.invalid" class="btn btn-primary" (click)="enviarATopics()">
          Enviar
        </button>



        <!-- Este es del tab multiple -->
        </div>

       </div>




    </div>


   

   


</div>